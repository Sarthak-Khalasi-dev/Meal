{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useParams,useNavigate}from'react-router-dom';import'./MealDetails.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function MealDetails(_ref){let{isLiked,onToggleLike}=_ref;const{id}=useParams();const navigate=useNavigate();const[meal,setMeal]=useState(null);const[loading,setLoading]=useState(true);const[error,setError]=useState('');const[showFull,setShowFull]=useState(false);useEffect(()=>{const fetchMeal=async()=>{setLoading(true);setError('');try{var _data$meals;const res=await fetch(\"https://www.themealdb.com/api/json/v1/1/lookup.php?i=\".concat(id));const data=await res.json();if((_data$meals=data.meals)!==null&&_data$meals!==void 0&&_data$meals[0])setMeal(data.meals[0]);else setError('Meal not found.');}catch(_unused){setError('Failed to load meal details.');}finally{setLoading(false);}};fetchMeal();},[id]);const getIngredients=meal=>{const list=[];for(let i=1;i<=20;i++){const ing=meal[\"strIngredient\".concat(i)];const msr=meal[\"strMeasure\".concat(i)];if(ing!==null&&ing!==void 0&&ing.trim())list.push({ingredient:ing.trim(),measure:(msr||'').trim()});}return list;};if(loading)return/*#__PURE__*/_jsxs(\"div\",{className:\"details-state\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"spinner\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Loading meal details...\"})]});if(error)return/*#__PURE__*/_jsxs(\"div\",{className:\"details-state error\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\u26A0\\uFE0F\"}),/*#__PURE__*/_jsx(\"p\",{children:error}),/*#__PURE__*/_jsx(\"button\",{className:\"back-btn\",onClick:()=>navigate(-1),children:\"\\u2190 Go Back\"})]});const ingredients=getIngredients(meal);const instructions=meal.strInstructions||'';const shortInstructions=instructions.slice(0,550);return/*#__PURE__*/_jsxs(\"div\",{className:\"details-page\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"back-btn\",onClick:()=>navigate(-1),children:\"\\u2190 Back to results\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"details-hero\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"details-img-wrap\",children:/*#__PURE__*/_jsx(\"img\",{src:meal.strMealThumb,alt:meal.strMeal})}),/*#__PURE__*/_jsxs(\"div\",{className:\"details-info\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"details-tags\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"tag category-tag\",children:[\"\\uD83C\\uDF74 \",meal.strCategory]}),meal.strArea&&/*#__PURE__*/_jsxs(\"span\",{className:\"tag area-tag\",children:[\"\\uD83C\\uDF0D \",meal.strArea]})]}),/*#__PURE__*/_jsx(\"h1\",{className:\"details-title\",children:meal.strMeal}),/*#__PURE__*/_jsx(\"div\",{className:\"detail-divider\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"detail-meta\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"meta-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"meta-label\",children:\"Ingredients\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"meta-value\",children:[ingredients.length,\" items\"]})]}),meal.strTags&&/*#__PURE__*/_jsxs(\"div\",{className:\"meta-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"meta-label\",children:\"Tags\"}),/*#__PURE__*/_jsx(\"span\",{className:\"meta-value\",children:meal.strTags.split(',').slice(0,2).join(', ')})]})]}),/*#__PURE__*/_jsx(\"button\",{className:\"like-btn-large \".concat(isLiked(id)?'liked':''),onClick:()=>onToggleLike(id),children:isLiked(id)?'‚ù§Ô∏è Remove from Liked':'ü§ç Add to Liked'}),meal.strYoutube&&/*#__PURE__*/_jsx(\"a\",{className:\"youtube-link\",href:meal.strYoutube,target:\"_blank\",rel:\"noreferrer\",children:\"\\u25B6 Watch Recipe Video\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"details-body\",children:[/*#__PURE__*/_jsxs(\"section\",{className:\"details-section\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Ingredients\"}),/*#__PURE__*/_jsx(\"div\",{className:\"ingredients-list\",children:ingredients.map((_ref2,i)=>{let{ingredient,measure}=_ref2;return/*#__PURE__*/_jsxs(\"div\",{className:\"ingredient-row\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"https://www.themealdb.com/images/ingredients/\".concat(ingredient,\"-Small.png\"),alt:ingredient,onError:e=>{e.target.style.display='none';}}),/*#__PURE__*/_jsx(\"span\",{className:\"ing-name\",children:ingredient}),measure&&/*#__PURE__*/_jsx(\"span\",{className:\"ing-measure\",children:measure})]},i);})})]}),/*#__PURE__*/_jsxs(\"section\",{className:\"details-section\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Instructions\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"instructions-text\",children:[/*#__PURE__*/_jsx(\"p\",{children:showFull?instructions:shortInstructions+(instructions.length>550?'...':'')}),instructions.length>550&&/*#__PURE__*/_jsx(\"button\",{className:\"show-more-btn\",onClick:()=>setShowFull(!showFull),children:showFull?'‚Üë Show Less':'‚Üì Read Full Recipe'})]})]})]})]});}export default MealDetails;","map":{"version":3,"names":["React","useState","useEffect","useParams","useNavigate","jsx","_jsx","jsxs","_jsxs","MealDetails","_ref","isLiked","onToggleLike","id","navigate","meal","setMeal","loading","setLoading","error","setError","showFull","setShowFull","fetchMeal","_data$meals","res","fetch","concat","data","json","meals","_unused","getIngredients","list","i","ing","msr","trim","push","ingredient","measure","className","children","onClick","ingredients","instructions","strInstructions","shortInstructions","slice","src","strMealThumb","alt","strMeal","strCategory","strArea","length","strTags","split","join","strYoutube","href","target","rel","map","_ref2","onError","e","style","display"],"sources":["C:/Users/Admin/OneDrive/Desktop/meal-explorer-v2/meal-explorer-v2/src/pages/MealDetails.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport './MealDetails.css';\n\nfunction MealDetails({ isLiked, onToggleLike }) {\n  const { id } = useParams();\n  const navigate = useNavigate();\n  const [meal, setMeal] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const [showFull, setShowFull] = useState(false);\n\n  useEffect(() => {\n    const fetchMeal = async () => {\n      setLoading(true); setError('');\n      try {\n        const res = await fetch(`https://www.themealdb.com/api/json/v1/1/lookup.php?i=${id}`);\n        const data = await res.json();\n        if (data.meals?.[0]) setMeal(data.meals[0]);\n        else setError('Meal not found.');\n      } catch { setError('Failed to load meal details.'); }\n      finally { setLoading(false); }\n    };\n    fetchMeal();\n  }, [id]);\n\n  const getIngredients = (meal) => {\n    const list = [];\n    for (let i = 1; i <= 20; i++) {\n      const ing = meal[`strIngredient${i}`];\n      const msr = meal[`strMeasure${i}`];\n      if (ing?.trim()) list.push({ ingredient: ing.trim(), measure: (msr || '').trim() });\n    }\n    return list;\n  };\n\n  if (loading) return <div className=\"details-state\"><div className=\"spinner\"></div><p>Loading meal details...</p></div>;\n  if (error) return <div className=\"details-state error\"><span>‚ö†Ô∏è</span><p>{error}</p><button className=\"back-btn\" onClick={() => navigate(-1)}>‚Üê Go Back</button></div>;\n\n  const ingredients = getIngredients(meal);\n  const instructions = meal.strInstructions || '';\n  const shortInstructions = instructions.slice(0, 550);\n\n  return (\n    <div className=\"details-page\">\n      <button className=\"back-btn\" onClick={() => navigate(-1)}>‚Üê Back to results</button>\n\n      <div className=\"details-hero\">\n        <div className=\"details-img-wrap\">\n          <img src={meal.strMealThumb} alt={meal.strMeal} />\n        </div>\n        <div className=\"details-info\">\n          <div className=\"details-tags\">\n            <span className=\"tag category-tag\">üç¥ {meal.strCategory}</span>\n            {meal.strArea && <span className=\"tag area-tag\">üåç {meal.strArea}</span>}\n          </div>\n          <h1 className=\"details-title\">{meal.strMeal}</h1>\n          <div className=\"detail-divider\"></div>\n          <div className=\"detail-meta\">\n            <div className=\"meta-item\">\n              <span className=\"meta-label\">Ingredients</span>\n              <span className=\"meta-value\">{ingredients.length} items</span>\n            </div>\n            {meal.strTags && (\n              <div className=\"meta-item\">\n                <span className=\"meta-label\">Tags</span>\n                <span className=\"meta-value\">{meal.strTags.split(',').slice(0,2).join(', ')}</span>\n              </div>\n            )}\n          </div>\n          <button\n            className={`like-btn-large ${isLiked(id) ? 'liked' : ''}`}\n            onClick={() => onToggleLike(id)}\n          >\n            {isLiked(id) ? '‚ù§Ô∏è Remove from Liked' : 'ü§ç Add to Liked'}\n          </button>\n          {meal.strYoutube && (\n            <a className=\"youtube-link\" href={meal.strYoutube} target=\"_blank\" rel=\"noreferrer\">\n              ‚ñ∂ Watch Recipe Video\n            </a>\n          )}\n        </div>\n      </div>\n\n      <div className=\"details-body\">\n        <section className=\"details-section\">\n          <h2>Ingredients</h2>\n          <div className=\"ingredients-list\">\n            {ingredients.map(({ ingredient, measure }, i) => (\n              <div className=\"ingredient-row\" key={i}>\n                <img\n                  src={`https://www.themealdb.com/images/ingredients/${ingredient}-Small.png`}\n                  alt={ingredient}\n                  onError={(e) => { e.target.style.display = 'none'; }}\n                />\n                <span className=\"ing-name\">{ingredient}</span>\n                {measure && <span className=\"ing-measure\">{measure}</span>}\n              </div>\n            ))}\n          </div>\n        </section>\n\n        <section className=\"details-section\">\n          <h2>Instructions</h2>\n          <div className=\"instructions-text\">\n            <p>{showFull ? instructions : shortInstructions + (instructions.length > 550 ? '...' : '')}</p>\n            {instructions.length > 550 && (\n              <button className=\"show-more-btn\" onClick={() => setShowFull(!showFull)}>\n                {showFull ? '‚Üë Show Less' : '‚Üì Read Full Recipe'}\n              </button>\n            )}\n          </div>\n        </section>\n      </div>\n    </div>\n  );\n}\n\nexport default MealDetails;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}